{% load static %}
{% load widget_tweaks %}
<html onclick="backOriginal()">

<head>
    <link rel="stylesheet" type="text/css" href="{% static '/css/stylesheet.css' %}">
    <style>
        html,
        body {
            background: url("{% static 'images/pattern_background_brown.png' %}");
            width: 100%;
            height: 100%;
            background-size: cover;
            margin: 0;
            padding: 0;
            font-family: "Parchment";
            color: #393838;
        }

        .container {
            display: flex;
            flex-direction: column;
        }

        #titleDiv {
            display: flex;
            justify-content: space-around;
        }

        #title {
            width: 1000px;
        }

        /*room*/
        #room_container {
            display: flex;
            flex-direction: row;
            justify-content: center;
            flex-wrap: wrap;
            margin-bottom: 50px;
        }

        #room1,
        #room2,
        #room3,
        #room4,
        #room5,
        #room6 {
            display: flex;
            flex-direction: row;
            justify-content: space-evenly;
            width: 400px;
            height: 140px;
            border: 3px dashed #393838;
            text-align: center;
            margin: 1vw;
        }

        .icon_img {
            width: 100px;
            height: 100px;
            align-self: center;
        }

        h2 {
            font-size: 40pt;
            align-self: center;
        }

        #room1:hover #live {
            content: url("{% static 'images/home.gif' %}");
        }

        #room2:hover #book {
            content: url("{% static 'images/book.gif' %}");
        }

        #room3:hover #art {
            content: url("{% static 'images/think.gif' %}");
        }

        #room4:hover #talk {
            content: url("{% static 'images/talk.gif' %}");
        }

        #room5:hover #news {
            content: url("{% static 'images/news.gif' %}");
        }

        #room1:hover,
        #room2:hover,
        #room3:hover,
        #room4:hover,
        #room5:hover,
        #room6:hover {
            background-color: rgba(255, 255, 255, 0.5);
        }

        /*when screen size changes*/
        @media only screen and (max-width: 1100px) {
            #title {
                width: 90vw;
            }
        }

        @media only screen and (max-width: 1500px) {

            #room1,
            #room2,
            #room3,
            #room4,
            #room5,
            #room6 {
                flex-direction: column;
                justify-content: center;
                width: 350px;
                height: auto;
                padding-bottom: 30px;
            }

            .icon_img {
                width: 150px;
                height: 150px;
            }
        }

        @media only screen and (max-width: 800px) {

            #room1,
            #room2,
            #room3,
            #room4,
            #room5,
            #room6 {
                flex-direction: column;
                width: 600px;
                height: auto;
                padding-bottom: 30px;
                margin-bottom: 2vw;
            }
        }

        @media only screen and (max-width: 700px) {

            #room1,
            #room2,
            #room3,
            #room4,
            #room5,
            #room6 {
                flex-direction: column;
                width: 85vw;
                height: auto;
                padding-bottom: 30px;
                margin-bottom: 2vw;
            }
        }
    </style>

    <script src="{% static '/js/sript.js' %}"></script>

    <script>
        /*close all opening function*/
        var bgClick = 0;
        var bgClick2 = 0;

        function backOriginal() {
            if (bgClick == 1) {
                if (searching == 0) {
                    document.getElementById("searchbar").style.width = "0px";
                    setTimeout(() => {
                        document.getElementById("search").src = "{% static 'images/search_icon.png' %}";
                        document.getElementById("searchbar").style.visibility = "hidden";
                        searchClick = 1;
                        bgClick = 0;
                    }, 1000);
                }
            }

            if (bgClick2 == 1) {
                if (loggingin == 0) {
                    document.getElementById("loginbox").style.height = "0px";
                    setTimeout(() => {
                        document.getElementById("login").src = "{% static 'images/login_button.png' %}";
                        document.getElementById("loginbox").style.visibility = "hidden";
                        loginClick = 1;
                        bgClick2 = 0;
                    }, 700);
                }
            }
        }
    </script>
    <style>
        .bar {
            display: flex;
            flex-direction: row;
            height: 62.1px;
        }

        /*menu*/
        #iconAndMenu_div {
            display: flex;
            flex-direction: column;
            margin-left: 0.7vw;
            position: absolute;
        }

        #icon_div {
            display: flex;
            flex-direction: row;
            margin-top: 10px;
        }

        #menu_icon {
            width: 50px;
            height: 50px;
            border-radius: 15px;
            align-self: center;
            background-color: transparent;
        }

        #menu_icon:hover {
            background-color: rgba(255, 255, 255, 0.5);
        }

        #menu_list {
            display: flex;
            flex-direction: row;
            justify-content: space-evenly;
            width: 150px;
            height: 0px;
            transition: height 800ms;
            border: solid 0px transparent;
            padding-left: 10px;
            padding-right: 5px;
            background-color: rgba(255, 255, 255, 0.4);
            overflow: hidden;
        }

        .closeMenu {
            height: 0;
        }

        .menu {
            list-style: none;
            margin: 0px;
            padding: 0px;
            background-color: transparent;
            width: 100%;
            text-shadow: 4px 4px 20px #585858;
        }

        .menu li {
            height: 70px;
            text-align: center;
        }

        .menu li:hover {
            background-color: #7e7d7d;
        }

        .menu li:hover a {
            color: white;
            text-shadow: 2px 2px 10px white;
        }

        .menu a {
            font-size: 40pt;
            text-align: center;
            text-decoration: none;
            padding: 10px 20px;
            color: #393838;
            text-shadow: 2px 2px 10px white;
        }

        /*search*/
        #search {
            width: 40px;
            height: 40px;
            align-self: center;
            margin-left: 0.5vw;
        }

        #searchbar {
            width: 0px;
            max-width: 300px;
            transition: width 1200ms;
            height: 45px;
            opacity: 0.3;
            border: 0vw solid transparent;
            padding-left: 0.5vw;
            margin-left: 0.5vw;
            align-self: center;
            visibility: hidden;
        }

        #search:hover {
            content: url("{% static 'images/search_icon_hover.png' %}");
        }


        /*login*/
        #loginDiv {
            order: 2;
        }

        #login {
            width: 129.4px;
            height: 62.1px;
        }

        #logout {
            width: 140px;
            height: 62.1px;
        }

        #loginbtnDiv {
            display: flex;
            flex-direction: row-reverse;
        }

        /*loginbox*/
        #loginbox {
            display: flex;
            flex-direction: row;
            justify-content: space-between;
            width: 350px;
            height: 0px;
            transition: height 800ms;
            border-radius: 20px;
            visibility: hidden;
            border: dotted 5px #393838;
            padding-left: 10px;
            padding-right: 5px;
            background-color: rgba(255, 248, 220, 0.8);
            overflow: hidden;
        }

        .closebox {
            height: 0;
        }

        label {
            font-size: 40pt;
        }

        #login:hover {
            content: url("{% static 'images/login_button_hover.png' %}");
        }

        #logout:hover {
            content: url("{% static 'images/logout.gif' %}");
        }

        #imgButtonDiv {
            display: flex;
            flex-direction: row-reverse;
            position: absolute;
            right: 0%;
        }

        #ok_button {
            width: 60px;
            height: 110px;
            border: 0px solid transparent;
            border-radius: 10px;
            margin-left: 2px;
            font-family: "Parchment";
            font-size: 35pt;
            align-self: center;
            text-align: center;
            background-color: rgba(30, 180, 30, 0.6);
            color: rgba(255, 255, 255, 1);
            box-shadow: 4px 4px 20px rgba(255, 248, 220, 0.8);
        }

        #ok_button:hover {
            background-color: rgba(36, 206, 36, 0.6);
            color: rgba(255, 255, 255, 1);
            text-shadow: 2px 2px 20px rgba(255, 255, 255, 1);
            box-shadow: 4px 4px 20px rgba(255, 248, 220, 0.8);
        }

        /*signup*/
        #signupDiv {
            order: 1;
        }

        #signup {
            width: 129.4px;
            height: 62.1px;
        }

        #signup:hover {
            content: url("{% static 'images/signup_button_hover.png' %}");
        }

        /*input box border*/
        .input {
            border-radius: 20px;
        }

        .input2 {
            height: 30px;
        }
    </style>

    <script>
        /* check screen size * /
        /*var checkWidth = window.matchMedia("(max-width: 300px)");
        $(document).ready(function () {
            checkWidth.addEventListener(searchClick);
        });*/

        /*close all opening function*/
        var bgClick = 0;
        var bgClick2 = 0;
        var bgClick3 = 0;

        function backOriginal() {
            if (bgClick == 1) {
                if (searching == 0) {
                    document.getElementById("searchbar").style.width = "0px";
                    setTimeout(() => {
                        document.getElementById("search").src = "{% static 'images/search_icon.png' %}";
                        document.getElementById("searchbar").style.visibility = "hidden";
                        searchClick = 1;
                        bgClick = 0;
                    }, 1000);
                }
            }

            if (bgClick2 == 1) {
                if (loggingin == 0) {
                    document.getElementById("loginbox").style.height = "0px";
                    setTimeout(() => {
                        document.getElementById("login").src = "{% static 'images/login_button.png' %}";
                        document.getElementById("loginbox").style.visibility = "hidden";
                        loginClick = 1;
                        bgClick2 = 0;
                    }, 700);
                }
            }

            if (bgClick3 == 1) {
                if (menuOpening == 0) {
                    document.getElementById("menu_list").style.height = "0px";
                    setTimeout(() => {
                        document.getElementById("menu_icon").style.backgroundColor = "transparent";
                        document.getElementById("menu_list").style.visibility = "hidden";
                        menuClick = 1;
                        bgClick3 = 0;
                    }, 700);
                }
            }
        }

        /*menu*/
        var menuClick = 1;

        function openMenu() {
            if (menuClick == 1) {
                /*close search bar if search bar is opening*/
                if (document.getElementById("searchbar").style.width == "30vw") {
                    document.getElementById("searchbar").style.width = "0px";
                    setTimeout(() => {
                        document.getElementById("search").src = "{% static 'images/search_icon.png' %}";
                        document.getElementById("searchbar").style.visibility = "hidden";
                        searchClick = 1;
                        bgClick = 0;

                        document.getElementById("menu_icon").style.backgroundColor = "rgba(255, 255, 255, 0.5)";
                        document.getElementById("menu_list").style.height = "200px";
                        document.getElementById("menu_list").style.visibility = "visible";
                        menuClick = 0;
                        setTimeout(() => {
                            bgClick3 = 1;
                        }, 500);
                    }, 1000);
                } else {
                    document.getElementById("menu_icon").style.backgroundColor = "rgba(255, 255, 255, 0.5)";
                    document.getElementById("menu_list").style.height = "200px";
                    document.getElementById("menu_list").style.visibility = "visible";
                    menuClick = 0;
                    setTimeout(() => {
                        bgClick3 = 1;
                    }, 500);
                }

                /*close loginbox if loginbox is opening*/
                if (document.getElementById("loginbox").style.height != 0) {
                    document.getElementById("login").src = "{% static 'images/login_button.png' %}";
                    document.getElementById("loginbox").style.height = "0px";
                    setTimeout(() => {
                        document.getElementById("loginbox").style.visibility = "hidden";
                        loginClick = 1;
                        bgClick2 = 0;
                    }, 700);
                }
            } else {
                document.getElementById("menu_list").style.height = "0px";
                setTimeout(() => {
                    document.getElementById("menu_icon").style.backgroundColor = "transparent";
                    document.getElementById("menu_list").style.visibility = "hidden";
                    menuClick = 1;
                    bgClick3 = 0;
                }, 700);
            }
        }

        var menuOpening = 0;

        function alertMenu() {
            menuOpening = 1;
            setTimeout(() => {
                menuOpening = 0;
            }, 700);
        }

        /*search bar*/
        var searchClick = 1;

        function searchOnClick() {
            if (searchClick == 1) {
                var image = document.getElementById("search");
                image.src = "{% static 'images/search_icon_hover.png' %}";

                /*if (checkWidth.matches) {
                    document.getElementById("searchbar").style.width = "20vw";
                }
                else {
                    document.getElementById("searchbar").style.width = "30vw";
                }*/

                /*close menu if loginbox is opening*/
                if (document.getElementById("menu_list").style.height != 0) {
                    document.getElementById("menu_list").style.height = "0px";
                    setTimeout(() => {
                        document.getElementById("menu_icon").style.backgroundColor = "transparent";
                        document.getElementById("menu_list").style.visibility = "hidden";
                        menuClick = 1;
                        bgClick3 = 0;

                        document.getElementById("searchbar").style.width = "30vw";
                        document.getElementById("searchbar").style.visibility = "visible";
                        searchClick = 0;
                        setTimeout(() => {
                            bgClick = 1;
                        }, 500);
                    }, 700);
                } else {
                    var image = document.getElementById("search");
                    image.src = "{% static 'images/search_icon_hover.png' %}";
                    document.getElementById("searchbar").style.width = "30vw";
                    document.getElementById("searchbar").style.visibility = "visible";
                    searchClick = 0;
                    setTimeout(() => {
                        bgClick = 1;
                    }, 500);
                }

                /*close loginbox if loginbox is opening*/
                if (document.getElementById("loginbox").style.height != 0) {
                    document.getElementById("login").src = "{% static 'images/login_button.png' %}";
                    document.getElementById("loginbox").style.height = "0px";
                    setTimeout(() => {
                        document.getElementById("loginbox").style.visibility = "hidden";
                        loginClick = 1;
                        bgClick2 = 0;
                    }, 700);
                }
            } else {
                document.getElementById("searchbar").style.width = "0px";
                setTimeout(() => {
                    document.getElementById("search").src = "{% static 'images/search_icon.png' %}";
                    document.getElementById("searchbar").style.visibility = "hidden";
                    searchClick = 1;
                    bgClick = 0;
                }, 1000);
            }
        }

        var searching = 0;

        function alertSearch() {
            searching = 1;
            setTimeout(() => {
                searching = 0;
            }, 1000);
        }

        /*login button*/
        var loginClick = 1;

        function loginOnClick() {
            if (loginClick == 1) {
                document.getElementById("login").src = "{% static 'images/login_button_hover.png' %}";
                document.getElementById("loginbox").style.height = "125px";
                document.getElementById("loginbox").style.visibility = "visible";
                loginClick = 0;
                setTimeout(() => {
                    bgClick2 = 1;
                }, 500);

                /*close search bar if search bar is opening*/
                if (document.getElementById("searchbar").style.width == "30vw") {
                    document.getElementById("searchbar").style.width = "0px";
                    setTimeout(() => {
                        document.getElementById("search").src = "{% static 'images/search_icon.png' %}";
                        document.getElementById("searchbar").style.visibility = "hidden";
                        searchClick = 1;
                        bgClick = 0;
                    }, 1000);
                }

                /*close menu if loginbox is opening*/
                if (document.getElementById("menu_list").style.height != 0) {
                    document.getElementById("menu_list").style.height = "0px";
                    setTimeout(() => {
                        document.getElementById("menu_icon").style.backgroundColor = "transparent";
                        document.getElementById("menu_list").style.visibility = "hidden";
                        menuClick = 1;
                        bgClick3 = 0;
                    }, 700);
                }
            } else {
                document.getElementById("login").src = "{% static 'images/login_button.png' %}";
                document.getElementById("loginbox").style.height = "0px";
                setTimeout(() => {
                    document.getElementById("loginbox").style.visibility = "hidden";
                    loginClick = 1;
                    bgClick2 = 0;
                }, 700);
            }
        }
    </script>
</head>

<body>
<div class="bar">
    <div id="iconAndMenu_div">
        <div id="icon_div">
            <img src="{% static 'images/menubar_icon.png' %}" id="menu_icon" onclick="openMenu()"/>
            <img src="{% static 'images/search_icon.png' %}" id="search" onclick="searchOnClick()"/>
            <input type="search" value="search" result="5" id="searchbar" class="input" onclick="alertSearch()">
        </div>
        <div id="menu_list">
            <ul class="menu">
                <li onclick="alertMenu()">
                    <a href='/home/' onclick="alertMenu()">home</a>
                </li>
                <li onclick="alertMenu()">
                    <a href='/home/' onclick="alertMenu()">home</a>
                </li>
                <li onclick="alertMenu()">
                    <a href='/home/' onclick="alertMenu()">home</a>
                </li>
            </ul>
        </div>
    </div>
    <div id="imgButtonDiv">
        <div id="loginDiv">
            <div id="loginbtnDiv">
                {% if request.user.is_authenticated %}
                    <a href='/logout/'><img src="{% static 'images/logout_button.png' %}" id="logout"
                                            onclick="loginOnClick()"/></a>
                {% else %}
                    <img src="{% static 'images/login_button.png' %}" id="login" onclick="loginOnClick()"/>
                {% endif %}
            </div>
            {% if request.user.is_authenticated %}
                <div>{{ request.user.username }}</div>
            {% else %}
                <form action="/login/" method="POST">
                    {% csrf_token %}
                    <div id="loginbox">
                        <div>
                            <div class="fieldWrapper">
                                <label for="{{ form.username.id_for_label }}">username: </label>
                                <input type="text" name="username" class="input2 form-control"
                                       required="required"><br/>
                            </div>
                            <div class="fieldWrapper">
                                <label for="{{ form.password.id_for_label }}">password: </label>
                                <input type="password" name="password" class="input2 form-control"
                                       required="required"><br/>
                            </div>
                        </div>
                        <button type="submit" name="ok" id="ok_button" class="btn btn-info">
                        </button>
                    </div>
                </form>
            {% endif %}
        </div>
        <div id="signupDiv">
            <a href='/signup/'><img src="{% static 'images/signup_button.png' %}" id="signup"
                                    onclick="signupOnClick()"/></a>
        </div>
    </div>
</div>
</body>

</html>